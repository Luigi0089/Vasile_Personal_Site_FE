<section id="skills" class="skills-section" aria-labelledby="skills-title">


  <!-- Controls -->
  <div class="skills-controls" role="group" aria-label="Filtri competenze">
    <div class="chip-group">
      <button
        class="chip"
        [class.active]="activeCategory === 'all'"
        (click)="setCategory('all')">
        Tutte
      </button>
      <button
        *ngFor="let c of categories"
        class="chip"
        [class.active]="activeCategory === c"
        (click)="setCategory(c)">
        {{ c }}
      </button>
    </div>

    <div class="search-group">
      <input
        type="search"
        [(ngModel)]="query"
        (input)="applyFilters()"
        placeholder="Cerca"
        aria-label="Cerca competenze" />

    </div>
  </div>

  <!-- Grid -->
  <div class="skills-grid">
    <article
      *ngFor="let s of filteredSkills; trackBy: trackByName"
      class="skill-card"
      [attr.aria-label]="s.name + ' livello ' + s.level + ' su 5'">
      <header class="skill-head">
        <h3 class="skill-name">{{ s.name }}</h3>
        <span class="skill-years" *ngIf="s.years >= 0">
    {{ s.years }}y
  </span>
      </header>

      <p class="skill-date">
        Acquisita: {{ s.acquired | date:' yyyy' }}
      </p>


      <div class="skill-meta">
        <span class="badge" *ngFor="let c of s.category">{{ c }}</span>

        <div class="meter" [style.--lvl]="s.level" aria-hidden="true">
          <i *ngFor="let dot of dots; index as i" [class.fill]="i < s.level"></i>
        </div>
        <span class="level-label">{{ levelLabel(s.level) }}</span>
      </div>


      <p class="skill-notes" *ngIf="s.notes">{{ s.notes }}</p>

      <ul class="keywords" *ngIf="s.keywords?.length">
        <li *ngFor="let k of s.keywords">{{ k }}</li>
      </ul>
    </article>
  </div>
</section>
